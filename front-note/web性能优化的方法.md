# web性能优化

## 浏览器缓存

## 资源打包压缩

- webpack、Gulp、Grunt
- Gzip（不要对图片压缩）

## 图片资源优化

1. 不要在html缩放图片
2. 使用雪碧图css sprit
3. 使用字体图标（矢量图）
阿里矢量图标库（网址：www.iconfont.cn/ ）

4. 使用webP格式的图片

## 使用CDN缓存服务器

## 页面渲染优化

1. 减少重排
2. 使用GPU渲染代替cup加载页面
3. css属性读写分离，尽量不用JS操作元素
4. 通过切换class或者使用元素的style.csstext属性去批量操作元素样式。
5. DOM元素离线更新，使用文档片段DocumentFragment表示文档片段，然后使用append插入DOM中，仅进行一次DOM渲染。或者使用display:none进行元素隐藏，待元素消失后再进行离线更新
6. 使用visibility:hidden, 隐藏元素
7. 图片在渲染前指定大小
8. 压缩DOM的深度
9. 对页面中可能发生大量重排重绘的元素单独触发渲染层，使用GPU分担CPU压力。

## JS新能优化

- 避免死循环、内存泄漏等。闭包资源加以释放、引用元素后置空
等。

## 负载均衡

1. Node.js作为前后端交互的中间层，基于事件驱动，能够处理高并发的请求
2. pm2实现多个内核同时运行Node.js，实现多线程，并实现进程之间的负载均衡
3. nginx反向代理服务器实现源服务器的负载均衡，当客户端发送请求时，nginx服务器通过轮询的方式，将请求发送到负载小的服务器上。

